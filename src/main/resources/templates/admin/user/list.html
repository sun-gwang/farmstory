<!DOCTYPE html>
<<<<<<< HEAD
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
=======
<html lang="en">

<script>
    window.onload = function () {
        const selectAllCheckbox = document.getElementsByName('allcheckbox')[0];
        const checkBoxes = document.getElementsByName('checkbox');
        const userdelete = document.getElementById('userDelete');
        let selectcheckbox = "";

        selectAllCheckbox.addEventListener('change', function () {
            for (let i = 0; i < checkBoxes.length; i++) {
                checkBoxes[i].checked = selectAllCheckbox.checked;
                selectcheckbox += checkBoxes[i].value;
            }
            document.getElementById('result').innerText = testText;
        });
    };

    // JavaScript 함수 정의
    function getCheckboxValue() {
        const query = 'input[name="checkbox"]:checked';
        const selectedEls = document.querySelectorAll(query);

        // 선택된 목록에서 value 찾기
        let result = '';
        selectedEls.forEach((el) => {
            result += el.value + ' ';
        });

        // 출력
        document.getElementById('result').innerText = result;
    }

    document.userForm.onsubmit = function (){
        return true;
    }

</script>

>>>>>>> origin/userdelete
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>팜스토리</title>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/admin/css/style.css}">
</head>

<body>
    <div id="container">
        <header>
            <a th:href="@{/admin}" class="logo"><img th:src="@{/images/admin/images/admin_logo.jpg}" alt="로고"/></a>
            <p>
                <a th:href="@{/}">HOME |</a>
                <a th:href="@{/user/logout}">로그아웃 |</a>
                <a href="#">고객센터</a>
            </p>
        </header>
        <main>
            <aside>
                <h3>주요기능</h3>
                <ul>
                    <li class="on"><a th:href="@{/admin/user/list}">회원관리</a></li>
                    <li><a th:href="@{/admin/product/list}">상품관리</a></li>
                    <li><a th:href="@{/admin/order/list}">주문관리</a></li>
                </ul>
            </aside>
            <section id="userList">
                <nav>
                    <h3>회원목록</h3>
                </nav>

                <div id='result'></div>

                <article>
                    <form th:action="@{/user/register-delete}" name="userForm" method="post">
                    <table border="0">

                        <tr>
                            <th><input type="checkbox" name="allcheckbox" /></th>
                            <th>아이디</th>
                            <th>이름</th>
                            <th>별명</th>
                            <th>이메일</th>
                            <th>휴대폰</th>
                            <th>등급</th>
                            <th>가입일</th>
                            <th>확인</th>
                        </tr>

                        <tr th:each="user: ${adminUsers}">
                            <td><input type="checkbox" name="checkbox" th:value="${user.uid}" onclick='getCheckboxValue()'/>[[${user.uid}]]</td>
                            <td id="uid" th:text="${user.uid}">[[${user.uid}]]</td>
                            <td th:text="${user.name}"></td>
                            <td th:text="${user.nick}"></td>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.hp}"></td>
                            <td>
                                <select name="grade">
                                    <option selected>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </td>
                            <td th:text="${#temporals.format(user.rdate, 'yyyy-MM-dd')}"></td>
                            <td><a th:href="@{/admin/user/{uid}(uid=${user.uid})}">정보 조회 및 수정</a></td>
                        </tr>

                    </table>

                    <p>
                        <input type="submit" th:href="@{/user/register}" class="userDelete" id="userDelete" value="선택삭제"></input>
                    </p>

                    </form>
                    <!-- 페이지네이션 -->
                    <nav aria-label="...">
                        <ul class="pagination justify-content-center">
                            <li th:if="${!adminUserPage.isIsFirstPage()}" class="page-item">
                                <a class="page-link" th:href="@{/admin/user/list(pageNum=${adminUserPage.pageNum} -1)}">이전</a>
                            </li>
                            <li th:each="num : ${#numbers.sequence(1, (adminUserPage.pages/10)*10)}" class="page-item">
                                <a class="page-link" th:href="@{/admin/user/list(pageNum=${num})}">[[${num}]]</a>
                            </li>
                            <li th:if="${adminUserPage.hasNextPage}" class="page-item">
                                <a class="page-link" th:href="@{/admin/user/list(pageNum=${adminUserPage.pageNum} +1)}">다음</a>
                            </li>
                        </ul>
                    </nav>
                </article>
                </form>
            </section>
        </main>
        <footer>
            <p>
                Copyright(C)Farmstory All rights reserved. FARMSTORY ADMINISTRATOR Version 1.0.2
            </p>
        </footer>
    </div>
</body>
</html>